<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/css/schedual.css">
    <title>Document</title>
</head>
<body>
    <section class="schedual-text-box" >
        <div class="schedual-text">Your Schedule --C1</div>
      
        <div class="schedual-text2">   <span id="day-name"> </span> upcoming Classes and tasks</div>
      
      </section>
      
      <!------------------------------- schedule container monday------------------------------------------->
      <section id="schedulecontainer">
      
        <section id="weekDay" class="week-day">
      
        <section class="class-box-container">      <!-- 1st classes------------------------------------------->
         <div class="class-box-time">            <!-- time start and end -->
         <div class="class-start-time">1:45</div>
         <div class="class-end-time">2:45</div>
         </div>
         <div class="class-box-timeline">       <!-- time line -------->
         <div class="timeline-circle"> <div class="active-time activeTimeOne" ></div></div>
         <div class="timeline-line"></div>
         </div>
         <div class="class-box" >                <!-- class box -------->
          <div class="classes classOne" >
         <div class="classname"><span id="classnameOne">Subject</span></div>
         <div class="techername"> Teachers: <span id="techerOne"></span></div>
         </div>
         </div> 
      </section> 
      
      <section class="class-box-container">    <!-- 2nd classes-------------------------------------------> 
         <div class="class-box-time">          <!-- time start and end -->
         <div class="class-start-time">2:45</div>
         <div class="class-end-time">3:45</div>
         </div>
         <div class="class-box-timeline">      <!-- time line -------->
         <div class="timeline-circle"> <div class="active-time activeTimeTwo"></div></div>
         <div class="timeline-line"></div>
         </div>
         <div class="class-box" >              <!-- class box -------->
         <div class="classes classTwo">
         <div class="classname"><span id="classnameTwo">Subject</span></div>
      
         <div class="techername"> Teachers: <span id="techerTwo"></span></div>
        </div>
        </div> 
      </section> 
      
      <section class="class-box-container">    <!-- 3rd classes-------------------------------------------> 
        <div class="class-box-time">          <!-- time start and end -->
        <div class="class-start-time">3:45</div>
        <div class="class-end-time">4:45</div>
        </div>
        <div class="class-box-timeline">      <!-- time line -------->
        <div class="timeline-circle"> <div class="active-time activeTimeThree"></div></div>
        <div class="timeline-line"></div>
        </div>
        <div class="class-box" >              <!-- class box -------->
        <div class="classes classThree">
        <div class="classname"><span id="classnameThree">Subject</span></div>
        <div class="techername"> Teachers: <span id="techerThree"></span> </div>
       </div>
       </div> 
      </section> 
      
      
      <section class="class-box-container">    <!-- 4th classes-------------------------------------------> 
        <div class="class-box-time">          <!-- time start and end -->
        <div class="class-start-time">4:45</div>
        <div class="class-end-time">5:45</div>
        </div>
        <div class="class-box-timeline">      <!-- time line -------->
        <div class="timeline-circle"> <div class="active-time activeTimeFour"></div></div>
        <div class="timeline-line"></div>
        </div>
        <div class="class-box" >              <!-- class box -------->
        <div class="classes classFour">
        <div class="classname"><span id="classnameFour">Subject</span></div>
        <div class="techername"> Teachers: <span id="techerFour"></span></div>
       </div>
       </div> 
      </section> 
      
      <section class="class-box-container">    <!-- 5th classes-------------------------------------------> 
        <div class="class-box-time">          <!-- time start and end -->
        <div class="class-start-time">5:45</div>
        <div class="class-end-time">6:45</div>
        </div>
        <div class="class-box-timeline">      <!-- time line -------->
        <div class="timeline-circle"> <div class="active-time activeTimeFive"></div></div>
        <div class="timeline-line"></div>
        </div>
        <div class="class-box" >              <!-- class box -------->
        <div class="classes classFive">
        <div class="classname"><span id="classnameFive">Subject</span></div>
        <div class="techername"> Teachers: <span id="techerFive"></span> </div>
       </div>
       </div> 
      </section> 
      
      
      
      </section>
      </section>

  
      <script src="/js/timesedul.js"></script>

      <script>
        let classnameOne = document.getElementById("classnameOne");
let techerOne = document.getElementById("techerOne");

let classnameTwo = document.getElementById("classnameTwo");
let techerTwo = document.getElementById("techerTwo");

let classnameThree = document.getElementById("classnameThree");
let techerThree = document.getElementById("techerThree");

let classnameFour = document.getElementById("classnameFour");
let techerFour = document.getElementById("techerFour");

let classnameFive = document.getElementById("classnameFive");
let techerFive = document.getElementById("techerFive");

const mydate = new Date();
const week = mydate.getDay();

fetch('https://shiksha-aa.vercel.app/api/routine')
    .then(response => response.json())
    .then(data => {
        
        let sectionData = data["Routine :"].filter(item => item.section === 'C1');

        // Now filter based on the weekday
        const mydate = new Date();
        const week = mydate.getDay();
        let Routine;

        if (week === 1) {
            Routine = sectionData.filter(item => item.weekday === 'MONDAY');
        } else if (week === 2) {
            Routine = sectionData.filter(item => item.weekday === 'TUESDAY');
        } else if (week === 3) {
            Routine = sectionData.filter(item => item.weekday === 'WEDNESDAY');
        } else if (week === 4) {
            Routine = sectionData.filter(item => item.weekday === 'THURSDAY');
        } else if (week === 5) {
            Routine = sectionData.filter(item => item.weekday === 'FRIDAY');
        } else if (week === 6) {
            Routine = sectionData.filter(item => item.weekday === 'SATURDAY');
        }

        if (Routine && Routine.length >= 5) {
            classnameOne.innerHTML = Routine[0].sub;
            techerOne.innerHTML = Routine[0].teacher;

            classnameTwo.innerHTML = Routine[1].sub;
            techerTwo.innerHTML = Routine[1].teacher;

            classnameThree.innerHTML = Routine[2].sub;
            techerThree.innerHTML = Routine[2].teacher;

            classnameFour.innerHTML = Routine[3].sub;
            techerFour.innerHTML = Routine[3].teacher;

            classnameFive.innerHTML = Routine[4].sub;
            techerFive.innerHTML = Routine[4].teacher;
        } else {
            console.error('Insufficient data received or incorrect weekday filtering.');
        }
    })
    .catch(error => console.error('Error fetching data:', error));

      </script>


</body>
</html>